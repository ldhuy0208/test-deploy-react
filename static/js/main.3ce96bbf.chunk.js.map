{"version":3,"sources":["component/Cell.js","App.js","index.js"],"names":["Cell","props","openClass","totalBoom","className","onClick","onOpen","onContextMenu","isFlag","App","khoiTaoBoom","listBoom","hang","Math","round","random","cot","filter","ele","length","push","khoiTaoDanhSach","listAllCell","i","j","isBoom","isOpen","setState","list","demSoLuongBoomTamOXungQuanh","viTri","count","state","openACell","updateList","viTriBanDau","viTriTiepTheo","daKiemTra","console","log","soLuongBoom","moMotO","e","preventDefault","type","alert","onFlag","this","map","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3ce96bbf.chunk.js","sourcesContent":["import React from 'react'\r\nimport './Cell.scss'\r\nfunction Cell(props) {\r\n  const openClass = props.totalBoom !== null && props.totalBoom === 0 && \"open\"; \r\n  return (\r\n    <div className={\"cell \" + openClass} onClick={props.onOpen} onContextMenu={props.onOpen}>\r\n\r\n      {(props.totalBoom !== null && props.totalBoom !== 0) ? props.totalBoom : props.isFlag ? 'F': ''}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Cell\r\n","import React, { Component } from \"react\";\nimport Cell from \"./component/Cell\";\nimport \"./App.scss\";\nconst HANG = 10;\nconst COT = 20;\nconst SO_LUONG_BOOM = 20;\n\nexport class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      list: [],\n    };\n  }\n\n  khoiTaoBoom = () => {\n    const listBoom = [];\n    while (listBoom.length < SO_LUONG_BOOM) {\n      const hang = Math.round(Math.random() * HANG);\n      const cot = Math.round(Math.random() * COT);\n\n      const isExists =\n        listBoom.filter((ele) => ele.hang === hang && ele.cot === cot).length >\n        0;\n      if (!isExists) listBoom.push({ hang, cot });\n    }\n\n    return listBoom;\n  };\n\n  khoiTaoDanhSach = () => {\n    const listBoom = this.khoiTaoBoom();\n\n    const listAllCell = [];\n    for (let i = 0; i < HANG; i++) {\n      listAllCell[i] = [];\n      for (let j = 0; j < COT; j++) {\n        listAllCell[i][j] = {\n          isBoom:\n            listBoom.filter((ele) => ele.hang === i && ele.cot === j).length >\n            0,\n          isOpen: false,\n          isFlag: false,\n          totalBoom: null,\n        };\n      }\n    }\n\n    this.setState({ list: listAllCell });\n  };\n\n  demSoLuongBoomTamOXungQuanh = (viTri) => {\n    const { hang, cot } = viTri;\n    let count = 0;\n\n    for (let i = hang - 1; i <= hang + 1; i++) {\n      if (!(i >= 0 && i < HANG)) continue;\n      for (let j = cot - 1; j <= cot + 1 && j < COT && j >= 0; j++) {\n        if (!(j >= 0 && j < COT)) continue;\n        if (this.state.list[i][j].isBoom) count++;\n      }\n    }\n    return count;\n  };\n\n  openACell = (\n    updateList,\n    viTriBanDau,\n    viTriTiepTheo = viTriBanDau,\n    daKiemTra = []\n  ) => {\n    console.log(\"chẹck open-------------------------------------------------\");\n    console.log(daKiemTra);\n    console.log(viTriTiepTheo);\n\n    const { hang, cot } = viTriTiepTheo;\n\n    if (\n      daKiemTra.filter((ele) => ele.hang === hang && ele.cot === cot).length > 0\n    ) {\n      return;\n    }\n\n    daKiemTra.push(viTriTiepTheo);\n\n    if (!(hang >= 0 && hang < HANG && cot >= 0 && cot < COT)) return;\n\n    const soLuongBoom = this.demSoLuongBoomTamOXungQuanh(viTriTiepTheo);\n\n    if (\n      hang === viTriBanDau.hang &&\n      cot === viTriBanDau.cot &&\n      soLuongBoom !== 0\n    ) {\n      updateList[hang][cot].isOpen = true;\n      updateList[hang][cot].totalBoom = soLuongBoom;\n    }\n    if (\n      hang !== viTriBanDau.hang &&\n      cot !== viTriBanDau.cot &&\n      soLuongBoom !== 0\n    ) {\n      updateList[hang][cot].isOpen = true;\n      updateList[hang][cot].totalBoom = soLuongBoom;\n    }\n    if (soLuongBoom === 0) {\n      updateList[hang][cot].isOpen = true;\n      updateList[hang][cot].totalBoom = soLuongBoom;\n      this.openACell(\n        updateList,\n        viTriBanDau,\n        {\n          hang: hang,\n          cot: cot - 1,\n        },\n        daKiemTra\n      );\n      this.openACell(\n        updateList,\n        viTriBanDau,\n        {\n          hang: hang + 1,\n          cot: cot,\n        },\n        daKiemTra\n      );\n      this.openACell(\n        updateList,\n        viTriBanDau,\n        {\n          hang: hang,\n          cot: cot + 1,\n        },\n        daKiemTra\n      );\n      this.openACell(\n        updateList,\n        viTriBanDau,\n        {\n          hang: hang - 1,\n          cot: cot,\n        },\n        daKiemTra\n\t\t\t);\n\t\t\tthis.openACell(\n        updateList,\n        viTriBanDau,\n        {\n          hang: hang - 1,\n          cot: cot - 1,\n        },\n        daKiemTra\n\t\t\t);\n\t\t\tthis.openACell(\n        updateList,\n        viTriBanDau,\n        {\n          hang: hang -1,\n          cot: cot + 1,\n        },\n        daKiemTra\n\t\t\t);\n\t\t\tthis.openACell(\n        updateList,\n        viTriBanDau,\n        {\n          hang: hang + 1,\n          cot: cot -1,\n        },\n        daKiemTra\n\t\t\t);\n\t\t\tthis.openACell(\n        updateList,\n        viTriBanDau,\n        {\n          hang: hang + 1,\n          cot: cot + 1,\n        },\n        daKiemTra\n      );\n    }\n  };\n\n  moMotO = (viTri, e) => {\n    e.preventDefault();\n\n    if (e.type === \"click\") {\n      const { hang, cot } = viTri;\n      if (this.state.list[hang][cot].isBoom) {\n        alert(\"Bùm\");\n        this.setState({ list: [] }, () => {\n          this.khoiTaoDanhSach();\n        });\n        return;\n      }\n      const updateList = this.state.list;\n      this.openACell(updateList, viTri);\n\n      this.setState({\n        list: updateList,\n      });\n    } else if (e.type === \"contextmenu\") {\n      console.log(\"Right click\");\n\n      const { hang, cot } = viTri;\n      const updateList = [...this.state.list];\n      updateList[hang][cot].isFlag = !this.state.list[hang][cot].isFlag;\n\n      this.setState({\n        list: updateList,\n      });\n    }\n  };\n\n  onFlag = (viTri) => {\n    const { hang, cot } = viTri;\n    const updateList = [...this.state.list];\n    updateList[hang][cot].isFlag = !this.state.list[hang][cot];\n\n    this.setState({\n      list: updateList,\n    });\n  };\n  componentDidMount() {\n    this.khoiTaoDanhSach();\n  }\n  render() {\n    return (\n      <div className=\"app\">\n        {this.state.list.map((hang, i) => (\n          <div className=\"row\">\n            {hang.map((cot, j) => (\n              <Cell\n                onOpen={(e) => this.moMotO({ hang: i, cot: j }, e)}\n                isBoom={this.state.list[i][j].isBoom}\n                totalBoom={this.state.list[i][j].totalBoom}\n                isFlag={this.state.list[i][j].isFlag}\n              />\n            ))}\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from './App'\n\n\nReactDOM.render(<App/>, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA npm install mongodb\n"],"sourceRoot":""}